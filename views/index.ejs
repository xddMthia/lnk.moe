<% page = "Home" %>

<h1 class="title">URL Shortener<span class="title__description">lnk.moe</span></h1>

<% if (successMessage) { %>
  <div>
    <p class="success-message"><%= successMessage %></p>
    <div class="box">
      <p>Shortened URL: <span class="text--highlighted" id="url"><%= shortUrl %></span></p>
      <p id="copy" class="btn">Copy</p>
    </div>
  </div>
  <script>
    localStorage.clear();
  </script>
<% } %>

<% if (errorMessage) { %>
  <div class="error-message">
    <p><%= errorMessage %></p>
  </div>
<% } %>

<form method="post" class="form">
  <div class="form-main">
    <div class="text--absolute-wrapper">
      <span id="urlLength" class="text--highlighted text--absolute"></span>
      <input id="urlInput" class="form__input" type="text" name="url" autocomplete="off" placeholder="Enter the URL here" required>
    </div>
    <button type="submit" class="btn">Shorten</button>
    <div id="arrow" class="arrow">
      <span class="arrow-line"></span>
      <span class="arrow-line"></span>
    </div>
  </div>
  <div id="arrow-menu" class="arrow-menu">
    <span class="highlight-line"></span>
    <div class="checkbox-wrapper" id="useCustomUrlWrapper">
      <p>Use Custom URL?</p><span class="checkbox" id="useCustomUrl"></span>
    </div>
    <div class="text--absolute-wrapper">
      <span id="customUrlLength" class="text--highlighted text--absolute"></span>
      <input name="customUrl" id="customUrl" class="form__input form__input--secondary checkbox-input" autocomplete="off" placeholder="/customurlhere" type="text">
    </div>
    <div class="checkbox-wrapper" id="useCustomVisitsWrapper">
      <p>Remove After N Visits?</p><span class="checkbox" id="useCustomVisits"></span>
    </div>
    <input name="customVisits" id="customVisits" class="form__input form__input--secondary checkbox-input" autocomplete="off" type="number" placeholder="0" min="1">

    <input type="hidden" name="useCustomUrl" id="useCustomUrlInput" value="false">
    <input type="hidden" name="useCustomVisits" id="useCustomVisitsInput" value="false">
  </div>
</form>

<script src="/scripts/index.js"></script>